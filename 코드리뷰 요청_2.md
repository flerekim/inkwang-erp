## 📋 종합 코드 리뷰 체크리스트

### 3️⃣ **Supabase 구현**

#### 보안 및 RLS (Row Level Security)
- **RLS 활성화**: 모든 테이블에 RLS가 활성화되어 있는가?
- **정책 테스트**: RLS 정책이 의도대로 동작하는지 테스트했는가?
- **최소 권한 원칙**: 각 역할(anon, authenticated)에 필요한 최소 권한만 부여했는가?

#### 데이터베이스 설계
- **인덱스 최적화**: 자주 쿼리하는 컬럼에 인덱스가 설정되어 있는가?
- **외래 키 제약**: 데이터 무결성을 위한 외래 키 제약이 설정되어 있는가?
- **트리거/함수**: 복잡한 로직이 Database Function으로 구현되어 있는가?

#### 연결 관리
- **Connection Pooling**: Supavisor(연결 풀러)를 사용하고 있는가?
- **연결 제한**: 최대 연결 수를 고려한 설계인가?
- **클라이언트 초기화**: Supabase 클라이언트가 싱글톤으로 관리되는가?

#### Realtime 기능
- **채널 관리**: Realtime 채널을 사용 후 적절히 정리(unsubscribe)하는가?
- **Private 채널**: 프로덕션에서는 private 채널을 사용하는가?
- **네이밍 컨벤션**: `scope:id:entity` 패턴을 따르는가?

#### Auth 구현
- **세션 관리**: 클라이언트와 서버 모두에서 세션을 적절히 관리하는가?
- **토큰 갱신**: 액세스 토큰 자동 갱신이 구현되어 있는가?
- **보호된 라우트**: 인증이 필요한 페이지에 미들웨어나 가드를 설정했는가?

---

### 7️⃣ **보안**

#### Supabase 보안
- **API 키 노출**: 클라이언트 코드에 service_role 키를 노출하지 않았는가?
- **함수 권한**: Database Function에 적절한 권한이 설정되어 있는가?
- **SQL Injection**: 파라미터화된 쿼리를 사용하는가?

---